<% subscribe events_path(channels: ["stack.#{@stack.id}"]), '.pr-list', '.header' %>

<%= render partial: 'shipit/stacks/header', locals: { stack: @stack } %>

<div class="wrapper">
  <section>
    <header class="section-header">
      <%= form_tag stack_pull_requests_path(@stack) do %>
        <div class="field-wrapper inline">
          <%= text_field_tag :number_or_url, '', placeholder: 'PR number or URL' %>
          <%= submit_tag 'Request merge', class: 'btn' %>
        </div>
      <% end %>
    </header>

    <ul class="pr-list">
      <%= render @pull_requests %>
    </ul>
  </section>
</div>
<div class="wrapper">
  <section class="pagination">
    <% if params[:since].present? %>
      <%= link_to 'Start', @links[:first], class: 'header__btn btn' %>
    <% else %>
      <%= link_to 'Start', '', class: 'header__btn btn btn--disabled disabled' %>
    <% end %>

    <% if url = @links[:next] %>
      <%= link_to 'Older', url, class: 'header__btn btn' %>
    <% else %>
      <%= link_to 'Older', '', class: 'header__btn btn btn--disabled disabled' %>
    <% end %>
  </section>
</div>